<app-base>
  <mat-card>

    <mat-card-header>
      <mat-card-title><b>Пользователи</b></mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <mat-table [dataSource]="users">

        <!--<ng-container matColumnDef="editor">-->
          <!--<mat-header-cell class="button-cell" *matHeaderCellDef></mat-header-cell>-->
          <!--<mat-cell class="button-cell" *matCellDef="">-->
            <!--<button tabindex="-1" mat-icon-button>-->
              <!--<mat-icon>edit</mat-icon>-->
            <!--</button>-->
          <!--</mat-cell>-->
        <!--</ng-container>-->

        <ng-container matColumnDef="delete">
          <mat-header-cell class="button-cell" *matHeaderCellDef></mat-header-cell>
          <mat-cell class="button-cell" *matCellDef="let user">
            <button tabindex="-1" mat-icon-button (click)="removeUser(user)">
              <mat-icon>delete</mat-icon>
            </button>
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="email">
          <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
          <mat-cell *matCellDef="let user">{{user.email}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="company">
          <mat-header-cell *matHeaderCellDef>Компания</mat-header-cell>
          <mat-cell *matCellDef="let user">{{user?.company?.name || 'отсутствует'}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="role">
          <mat-header-cell *matHeaderCellDef>Роль</mat-header-cell>
          <mat-cell *matCellDef="let user"> {{user.role}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="sex">
          <mat-header-cell *matHeaderCellDef>Пол</mat-header-cell>
          <mat-cell *matCellDef="let user"> {{'не указан'}} </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

      </mat-table>
    </mat-card-content>

  </mat-card>
</app-base>
